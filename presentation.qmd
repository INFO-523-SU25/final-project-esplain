---
title: Whistle Bias?
subtitle: "Investigating Referee Influence on WNBA Away Games<br><br>INFO 523 - Summer 2025 - Final Project"
author: "Amy Esplain"
title-slide-attributes:
  data-background-image: images/refereestock.png
  data-background-size: stretch
  data-background-opacity: "0.5"
  data-slide-number: none
  data-font-color: white
format:
  revealjs:
    theme: dark

editor: visual
jupyter: python3
execute:
  echo: false
---

```{python}
#| label: load-packages
#| include: false

# Load packages here
import pandas as pd
import seaborn as sns

```

```{python}
#| label: setup
#| include: false
#| 
# Set up plot theme and figure resolution
sns.set_theme(style="whitegrid")
sns.set_context("notebook", font_scale=1.1)

import matplotlib.pyplot as plt
plt.rcParams['figure.dpi'] = 300
plt.rcParams['savefig.dpi'] = 300
plt.rcParams['figure.figsize'] = (6, 6 * 0.618)
```

```{python}
#| label: load-data
#| include: false
# Load data in Python
mtcars = sns.load_dataset('mpg').dropna()  # mtcars dataset is similar to the mpg dataset from seaborn
mtcars['speed'] = mtcars['horsepower'] / mtcars['weight']

penguins = sns.load_dataset('penguins').dropna()
```

# Presentation Recording:
[Link to recording](https://arizona.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=3eeb27b3-7f14-47a5-9fce-b33f005a24c9)


# Table of Contents {.smaller}
- Motivation & Research Question
- Dataset Exploration
- Feature Engineeering
- Data Mining Approach: K Means and PCA
- Conclusion
- Future Considerations



## Motivation & Research Question {.smaller}

### Motivation
With the WNBA’s rapid rise in popularity and visibility, this project is motivated by the increase in analytics and visibility we have in the sport.

### Research Questions
 This project evaluates the fairness of officiating by studying the following questions:

1.  Do home teams have significantly higher win rates under specific referee crews?

2.  When games are officiated by certain referee combinations, do they have higher or lower foul disparity?

3.  Do certain referees call more fouls on away teams?

### Primary Metrics
Foul and turnover differentials called by each ref, and combination of refs.

## Dataset & Metrics {.smaller}

### Dataset
-   65 complete games from August 2022 to October 2024
-   11 teams instead of 12 total teams with 27 unique referee IDs
-   Dataset is incomplete therefore proceed with caution!

### Primary Metrics

Average difference (away - home) per game for:

1.  Foul difference

2.  Whistle turnover difference

 Referee & Referee crew level


## Exploratory Analysis: <br> Individual Referees {.smaller}
::::: columns
::: {.column width="60%"}
![](images/output1.png){fig-align="left" width="100%"}
:::

::: {.column width="40%"}
- Most referees cluster near neutral (little difference between home vs. away)

- Ref D & Ref V: strict on away (more fouls + more turnovers)

- Ref P: lenient on away (fewer fouls + fewer turnovers)

:::
:::::

## Exploratory Analysis: <br> Referee Crew {.smaller}
::::: columns
::: {.column width="60%"}
![](images/output2.png){fig-align="left" width="100%"}
:::

::: {.column width="40%"}
- Most crews near neutral (balanced fouls/turnovers)

- Strict on away (top-right)

- Turnover-heavy on away (top-left)

- Lenient on away (bottom) with fewer turnovers, neutral fouls

:::
:::::

# Data Mining Approach {.smaller}
- Calinski–Harabasz index to determine clusters
- K-means and PCA to cluster data

## Choosing Clusters {.smaller}

::::: columns
::: {.column width="45%"}
![](images/CHREF.png){fig-align="left" width="80%"}
![](images/CHCREW.png){fig-align="left" width="80%"}
:::

::: {.column width="55%"}
 
 **Clustering method:** Calinski–Harabasz (CH) index used to determine number of clusters for referees and crews  

**Individual Referees (Figure 8) **

- CH curve jumps sharply from *k = 2 → 3* then levels off  
- Modest uptick around *k ≈ 6–7*  
- **Chosen k = 6**: reveals structure without over fragmentation 

 **Referee Crews (Figure 9) **

- CH index rises steadily but bends near *k ≈ 7–8*  
- **Chosen k = 8**: captures group separation at natural elbow point  
:::
:::::


## K-Means PCA Modeling: Referee-Level {.smaller .scrollable}
::::: columns
::: {.column width="50%"}
![](images/PCA_REF.png){fig-align="left" width="99%"}
PCA retains 82% variance 
:::

::: {.column width="50%"}
- Key Takeaways: Most referees cluster near neutral (cluster 2)
  - Strict-on-away patterns: Cluster 0 (turnover-heavy), Cluster 3 (foul-heavy)  
  - Lenient-on-away patterns: Cluster 1 (foul-driven), Cluster 4 (turnover-driven)  

- Features used:
  - Average foul difference (Away − Home)  
  - Average turnover whistle difference (Away − Home)  

:::
:::::

## K-Means PCA Modeling:  Crew-Level {.smaller .scrollable}
::::: columns
::: {.column width="50%"}
![](images/PCACREW.png){fig-align="left" width="99%"}
PCA retains 75.6% variance

:::

::: {.column width="50%"}
- Key Takeaways: Crew effects stronger on turnovers than fouls  
  - Strict-on-away: Clusters 0, 4, 7  
  - Lenient-on-away: Clusters 2, 3, 6 (outlier)  
  - Mixed profiles: Clusters 1, 5  

- Features used:
  - Average foul difference (Away − Home)  
  - Average turnover whistle difference (Away − Home)  

:::
:::::


## Conclusion {.smaller}

- **PCA + K-Means Results:**  
  - Referees model (k=6) explain ≈82% variance and crews model (k=8) explain ≈75% variance  
  - Moderate silhouette scores thus interpretable structure without overfitting  

- **Crew-Level Patterns:** Most crews near neutral
  - Small subset “strict-on-away”  
  - Four types: strict-on-away, foul-heavy, turnover-heavy, lenient-on-away  
  - Stronger dispersion in **turnover calls** than fouls  

- **Referee-Level Patterns:** Most referees neutral
  - Few outliers drive asymmetry  

- **Overall Implication:**  
  - Evidence of crew- and referee-specific tendencies, not league-wide bias  
  - Findings limited by partial season data  

## Future Considerations{.smaller}

- **Data Expansion**
  - Add full/missing seasons, including current  
  - Grow sample size for more stable clusters  

- **Modeling**
  - Use mixed-effects regressions (crew & referee effects)  
  - Control for context (score margin, competitiveness, playoffs)  

- **Robustness**
  - Test alternative clustering (DBSCAN, hierarchical)  
  - Compare PCA vs. raw feature clustering  

- **Implications**
  - Check if strict-on-away crews boost home win rates  
  - Explore league monitoring to flag outlier officials/crews  

# Thank you!







